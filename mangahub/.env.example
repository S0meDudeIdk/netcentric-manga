# ===========================================
# MangaHub Environment Configuration
# ===========================================
# Copy this file to .env and update the values

# ===========================================
# Server Configuration
# ===========================================
PORT=8080
# Gin mode: debug, release, or test
GIN_MODE=debug

# ===========================================
# Database Configuration
# ===========================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=mangahub
DB_PASSWORD=your_secure_password_here
DB_NAME=mangahub
DB_SSLMODE=disable

# ===========================================
# Security Configuration
# ===========================================
# JWT Secret Key - MUST CHANGE THIS IN PRODUCTION!
# Generate a new one with: openssl rand -hex 32
JWT_SECRET=your_jwt_secret_key_here

# ===========================================
# CORS Configuration
# ===========================================
# Comma-separated list of allowed origins
CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Origin,Content-Type,Authorization

# ===========================================
# Rate Limiting & Request Size
# ===========================================
# Maximum requests per minute per IP
RATE_LIMIT_REQUESTS_PER_MINUTE=100
# Maximum request body size in megabytes
MAX_REQUEST_SIZE_MB=10

# ===========================================
# MyAnimeList Official API Configuration
# ===========================================
# Get your credentials at: https://myanimelist.net/apiconfig
MAL_CLIENT_ID=your_mal_client_id_here
MAL_CLIENT_SECRET=your_mal_client_secret_here

# ===========================================
# MyAnimeList/Jikan API (Fallback)
# ===========================================
# Jikan is an unofficial MyAnimeList API
JIKAN_API_BASE_URL=https://api.jikan.moe/v4
JIKAN_RATE_LIMIT_SECONDS=1

# ===========================================
# MangaDex API Configuration
# ===========================================
# MangaDex is the primary source for chapter reading
MANGADEX_API_BASE_URL=https://api.mangadex.org
# Timeout in seconds for MangaDex API requests
MANGADEX_API_TIMEOUT=15
# Enable verbose logging for MangaDex API (true/false)
MANGADEX_DEBUG=false
# Optional: Your MangaDex API key for authenticated requests
# Get yours at: https://mangadex.org/settings (API Clients section)
# Note: Not required for reading public manga, but enables:
# - Higher rate limits
# - Access to private/restricted content
# - User-specific features (follows, reading history)
MANGADEX_API_KEY=

# ===========================================
# MangaPlus API Configuration
# ===========================================
# MangaPlus is the fallback source for official Shueisha manga
MANGAPLUS_API_BASE_URL=https://jumpg-webapi.tokyo-cdn.com/api
# Timeout in seconds for MangaPlus API requests
MANGAPLUS_API_TIMEOUT=15
# Enable verbose logging for MangaPlus API (true/false)
MANGAPLUS_DEBUG=false

# ===========================================
# TCP Server Configuration
# ===========================================
TCP_SERVER_PORT=9000

# ===========================================
# gRPC Server Configuration
# ===========================================
GRPC_SERVER_PORT=9001

# ===========================================
# UDP Server Configuration
# ===========================================
UDP_SERVER_PORT=9002

# ===========================================
# WebSocket Configuration
# ===========================================
WS_ENABLED=true

# ===========================================
# Data Configuration
# ===========================================
# Path to manga data JSON file
MANGA_DATA_FILE=./data/manga.json

# ===========================================
# Logging Configuration
# ===========================================
# Log level: debug, info, warning, error
LOG_LEVEL=info

# ===========================================
# Additional Notes
# ===========================================
# 
# MangaDex API:
# - No API key required (free and open)
# - Rate limits apply (respectful usage recommended)
# - Documentation: https://api.mangadex.org/docs/
#
# MangaPlus API:
# - No API key required (public endpoint)
# - Official Shueisha manga only
# - Limited to specific titles
#
# For production deployment:
# 1. Change JWT_SECRET to a secure random value
# 2. Set GIN_MODE=release
# 3. Update CORS_ALLOW_ORIGINS to your domain
# 4. Configure proper database credentials
# 5. Enable SSL/TLS for database connection
# 6. Consider increasing rate limits based on your needs

# Docker Environment Configuration
# This file contains environment variables for Docker containers
# Copy this to .env or set these in docker-compose.yml

# Server Configuration
PORT=8080
FETCH_MANGA_PORT=8082GIN_MODE=release

# JWT Secret Key (CHANGE THIS IN PRODUCTION!)
JWT_SECRET=the-key-is-here

# CORS Configuration
CORS_ALLOW_ORIGINS=*
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Origin,Content-Type,Authorization

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
MAX_REQUEST_SIZE_MB=10

# MyAnimeList Official API Configuration
# Get your credentials at: https://myanimelist.net/apiconfig
MAL_CLIENT_ID=your_mal_client_id_here
MAL_CLIENT_SECRET=your_mal_client_secret_here

# MyAnimeList/Jikan API Configuration (Fallback)
JIKAN_API_BASE_URL=https://api.jikan.moe/v4
JIKAN_RATE_LIMIT_SECONDS=1

# MangaDex API Configuration
MANGADEX_API_BASE_URL=https://api.mangadex.org
MANGADEX_API_TIMEOUT=15
MANGADEX_DEBUG=false
# Optional: Get your key at https://mangadex.org/settings
MANGADEX_API_KEY=

# MangaPlus API Configuration
MANGAPLUS_API_BASE_URL=https://jumpg-webapi.tokyo-cdn.com/api
MANGAPLUS_API_TIMEOUT=15
MANGAPLUS_DEBUG=false

# TCP Server Configuration
TCP_SERVER_PORT=9001
TCP_SERVER_HTTP_PORT=9010
TCP_SERVER_ADDR=0.0.0.0:9001
TCP_SERVER_HTTP_ADDR=http://0.0.0.0:9010

# gRPC Server Configuration
GRPC_SERVER_PORT=9003
GRPC_SERVER_ADDR=0.0.0.0:9003

# UDP Server Configuration
UDP_SERVER_PORT=9002
UDP_SERVER_HTTP_PORT=9020
UDP_SERVER_ADDR=0.0.0.0:9002
UDP_SERVER_HTTP_ADDR=http://0.0.0.0:9020

# WebSocket Configuration
WS_ENABLED=true

# Data File Path
MANGA_DATA_FILE=/app/data/manga.json

# Log Level
LOG_LEVEL=info

# React App Configuration (for web-react service)
REACT_APP_USE_GRPC_LIBRARY=true
REACT_APP_USE_GRPC_RATING=true
REACT_APP_USE_GRPC_PROGRESS=true
